2022-12-26 23:12:52.093 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:12:52.881 -05:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:12:52.992 -05:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:12:53.017 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:12:53.037 -05:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:12:53.134 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:12:53.239 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:16:02.102 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:16:02.687 -05:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:16:02.774 -05:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:16:02.789 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:16:02.804 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:16:02.847 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:16:02.885 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:17:31.407 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:17:31.995 -05:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:17:32.114 -05:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:17:32.122 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:17:32.126 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:17:32.179 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:17:32.214 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:21:27.692 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:21:28.267 -05:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:21:28.353 -05:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:21:28.369 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:21:28.384 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:21:28.431 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:21:28.469 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:21:28.752 -05:00 [INF] Now listening on: https://localhost:7038
2022-12-26 23:21:28.755 -05:00 [INF] Now listening on: http://localhost:5001
2022-12-26 23:21:28.765 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-26 23:21:28.767 -05:00 [INF] Hosting environment: Development
2022-12-26 23:21:28.769 -05:00 [INF] Content root path: C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\
2022-12-26 23:21:29.797 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/index.html - -
2022-12-26 23:21:30.079 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/index.html - - - 200 - text/html;charset=utf-8 292.9937ms
2022-12-26 23:21:30.186 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - -
2022-12-26 23:21:30.198 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - - - 200 12010 application/javascript;+charset=utf-8 11.6310ms
2022-12-26 23:21:30.365 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - -
2022-12-26 23:21:30.610 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 245.1623ms
2022-12-26 23:21:53.608 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/categorias application/json 60
2022-12-26 23:21:53.614 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:21:53.634 -05:00 [INF] Executing endpoint 'HTTP: POST /categorias => PostCategorias'
2022-12-26 23:21:53.731 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:21:54.057 -05:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Categoria] ([Descripcion], [Estado], [Nombre])
VALUES (@p0, @p1, @p2);
SELECT [IdCategoriaPk]
FROM [Categoria]
WHERE @@ROWCOUNT = 1 AND [IdCategoriaPk] = scope_identity();
2022-12-26 23:21:54.138 -05:00 [INF] Writing value of type 'Dominio.Principal.Entidades.Categoria' with status code '200'.
2022-12-26 23:21:54.148 -05:00 [INF] Executed endpoint 'HTTP: POST /categorias => PostCategorias'
2022-12-26 23:21:54.158 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/categorias application/json 60 - 200 - application/json;+charset=utf-8 550.0943ms
2022-12-26 23:22:13.037 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/categorias application/json 63
2022-12-26 23:22:13.038 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:22:13.038 -05:00 [INF] Executing endpoint 'HTTP: POST /categorias => PostCategorias'
2022-12-26 23:22:13.090 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:22:13.095 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Categoria] ([Descripcion], [Estado], [Nombre])
VALUES (@p0, @p1, @p2);
SELECT [IdCategoriaPk]
FROM [Categoria]
WHERE @@ROWCOUNT = 1 AND [IdCategoriaPk] = scope_identity();
2022-12-26 23:22:13.098 -05:00 [INF] Writing value of type 'Dominio.Principal.Entidades.Categoria' with status code '200'.
2022-12-26 23:22:13.098 -05:00 [INF] Executed endpoint 'HTTP: POST /categorias => PostCategorias'
2022-12-26 23:22:13.098 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/categorias application/json 63 - 200 - application/json;+charset=utf-8 61.2312ms
2022-12-26 23:22:30.316 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/categorias application/json 60
2022-12-26 23:22:30.317 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:22:30.318 -05:00 [INF] Executing endpoint 'HTTP: POST /categorias => PostCategorias'
2022-12-26 23:22:30.323 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:22:30.332 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Categoria] ([Descripcion], [Estado], [Nombre])
VALUES (@p0, @p1, @p2);
SELECT [IdCategoriaPk]
FROM [Categoria]
WHERE @@ROWCOUNT = 1 AND [IdCategoriaPk] = scope_identity();
2022-12-26 23:22:30.339 -05:00 [INF] Writing value of type 'Dominio.Principal.Entidades.Categoria' with status code '200'.
2022-12-26 23:22:30.339 -05:00 [INF] Executed endpoint 'HTTP: POST /categorias => PostCategorias'
2022-12-26 23:22:30.339 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/categorias application/json 60 - 200 - application/json;+charset=utf-8 23.5125ms
2022-12-26 23:22:43.342 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7038/categorias/3 - -
2022-12-26 23:22:43.343 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:22:43.343 -05:00 [INF] Executing endpoint 'HTTP: DELETE /categorias/{id} => DeleteCategorias'
2022-12-26 23:22:43.350 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:22:43.837 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[IdCategoriaPk], [c].[Descripcion], [c].[Estado], [c].[Nombre]
FROM [Categoria] AS [c]
WHERE [c].[IdCategoriaPk] = @__p_0
2022-12-26 23:22:43.873 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Categoria]
WHERE [IdCategoriaPk] = @p0;
SELECT @@ROWCOUNT;
2022-12-26 23:22:43.885 -05:00 [INF] Executing result with status code '200'.
2022-12-26 23:22:43.885 -05:00 [INF] Executed endpoint 'HTTP: DELETE /categorias/{id} => DeleteCategorias'
2022-12-26 23:22:43.886 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7038/categorias/3 - - - 200 0 - 543.8128ms
2022-12-26 23:23:03.682 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7038/categorias/3 application/json 50
2022-12-26 23:23:03.682 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:23:03.682 -05:00 [INF] Executing endpoint 'HTTP: PUT /categorias/{id} => PutCategorias'
2022-12-26 23:23:03.688 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:23:03.709 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[IdCategoriaPk], [c].[Descripcion], [c].[Estado], [c].[Nombre]
FROM [Categoria] AS [c]
WHERE [c].[IdCategoriaPk] = @__p_0
2022-12-26 23:23:03.710 -05:00 [INF] Executing result with status code '404'.
2022-12-26 23:23:03.710 -05:00 [INF] Executed endpoint 'HTTP: PUT /categorias/{id} => PutCategorias'
2022-12-26 23:23:03.710 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7038/categorias/3 application/json 50 - 404 0 - 28.1594ms
2022-12-26 23:23:20.302 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/categorias application/json 60
2022-12-26 23:23:20.302 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:23:20.302 -05:00 [INF] Executing endpoint 'HTTP: POST /categorias => PostCategorias'
2022-12-26 23:23:20.306 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:23:20.312 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Categoria] ([Descripcion], [Estado], [Nombre])
VALUES (@p0, @p1, @p2);
SELECT [IdCategoriaPk]
FROM [Categoria]
WHERE @@ROWCOUNT = 1 AND [IdCategoriaPk] = scope_identity();
2022-12-26 23:23:20.314 -05:00 [INF] Writing value of type 'Dominio.Principal.Entidades.Categoria' with status code '200'.
2022-12-26 23:23:20.314 -05:00 [INF] Executed endpoint 'HTTP: POST /categorias => PostCategorias'
2022-12-26 23:23:20.315 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/categorias application/json 60 - 200 - application/json;+charset=utf-8 12.3707ms
2022-12-26 23:23:30.538 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7038/categorias/4 application/json 50
2022-12-26 23:23:30.539 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:23:30.539 -05:00 [INF] Executing endpoint 'HTTP: PUT /categorias/{id} => PutCategorias'
2022-12-26 23:23:30.542 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:23:30.546 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[IdCategoriaPk], [c].[Descripcion], [c].[Estado], [c].[Nombre]
FROM [Categoria] AS [c]
WHERE [c].[IdCategoriaPk] = @__p_0
2022-12-26 23:23:30.567 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Categoria] SET [Descripcion] = @p0, [Estado] = @p1, [Nombre] = @p2
WHERE [IdCategoriaPk] = @p3;
SELECT @@ROWCOUNT;
2022-12-26 23:23:30.571 -05:00 [INF] Executing result with status code '200'.
2022-12-26 23:23:30.571 -05:00 [INF] Executed endpoint 'HTTP: PUT /categorias/{id} => PutCategorias'
2022-12-26 23:23:30.572 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7038/categorias/4 application/json 50 - 200 0 - 33.0307ms
2022-12-26 23:23:47.093 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/categorias - -
2022-12-26 23:23:47.093 -05:00 [INF] Executing endpoint 'HTTP: GET /categorias => GetAllCategorias'
2022-12-26 23:23:47.099 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:23:47.114 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCategoriaPk], [c].[Descripcion], [c].[Estado], [c].[Nombre]
FROM [Categoria] AS [c]
2022-12-26 23:23:47.120 -05:00 [INF] Writing value of type 'System.Collections.Generic.List`1[[Dominio.Principal.Entidades.Categoria, Dominio.Principal, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]' with status code '200'.
2022-12-26 23:23:47.120 -05:00 [INF] Executed endpoint 'HTTP: GET /categorias => GetAllCategorias'
2022-12-26 23:23:47.120 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/categorias - - - 200 - application/json;+charset=utf-8 27.3227ms
2022-12-26 23:23:58.138 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/categorias/2 - -
2022-12-26 23:23:58.139 -05:00 [INF] Executing endpoint 'HTTP: GET /categorias/{id} => GetCategoriasById'
2022-12-26 23:23:58.141 -05:00 [INF] Consultar Categoria por ID 2
2022-12-26 23:23:58.147 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:23:58.153 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[IdCategoriaPk], [c].[Descripcion], [c].[Estado], [c].[Nombre]
FROM [Categoria] AS [c]
WHERE [c].[IdCategoriaPk] = @__p_0
2022-12-26 23:23:58.154 -05:00 [INF] Writing value of type 'Dominio.Principal.Entidades.Categoria' with status code '200'.
2022-12-26 23:23:58.155 -05:00 [INF] Executed endpoint 'HTTP: GET /categorias/{id} => GetCategoriasById'
2022-12-26 23:23:58.155 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/categorias/2 - - - 200 - application/json;+charset=utf-8 16.8187ms
2022-12-26 23:24:02.311 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/categorias/99 - -
2022-12-26 23:24:02.312 -05:00 [INF] Executing endpoint 'HTTP: GET /categorias/{id} => GetCategoriasById'
2022-12-26 23:24:02.312 -05:00 [INF] Consultar Categoria por ID 99
2022-12-26 23:24:02.317 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:24:02.323 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[IdCategoriaPk], [c].[Descripcion], [c].[Estado], [c].[Nombre]
FROM [Categoria] AS [c]
WHERE [c].[IdCategoriaPk] = @__p_0
2022-12-26 23:24:02.324 -05:00 [INF] Executing result with status code '404'.
2022-12-26 23:24:02.324 -05:00 [INF] Executed endpoint 'HTTP: GET /categorias/{id} => GetCategoriasById'
2022-12-26 23:24:02.324 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/categorias/99 - - - 404 0 - 13.2039ms
2022-12-26 23:24:20.520 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7038/categorias/4 application/json 45
2022-12-26 23:24:20.521 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:24:20.521 -05:00 [INF] Executing endpoint 'HTTP: PUT /categorias/{id} => PutCategorias'
2022-12-26 23:24:20.530 -05:00 [INF] Writing value of type 'Microsoft.AspNetCore.Http.Result.ObjectResult' with status code '400'.
2022-12-26 23:24:20.532 -05:00 [INF] Executed endpoint 'HTTP: PUT /categorias/{id} => PutCategorias'
2022-12-26 23:24:20.533 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7038/categorias/4 application/json 45 - 400 - application/json;+charset=utf-8 12.4249ms
2022-12-26 23:25:01.022 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 107
2022-12-26 23:25:01.023 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:25:01.023 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:25:01.050 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:25:01.131 -05:00 [ERR] Failed executing DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:25:01.246 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ContextoBD'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-26 23:25:01.881 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:25:02.142 -05:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Data.Repositorios.UnitOfWork.Complete() in C:\Users\Home\source\repos\WebApi\Infraestructura.Data\Repositorios\UnitOfWork.cs:line 19
   at Presentacion.ApiREST.Rutas.RutaProductos.<AgregarRutasProductos>g__PostProductos|1_2(IUnitOfWork _unitOfWork, IValidator`1 _validator, In_ProductoDTO ProductoDTO) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Rutas\RutaProductos.cs:line 91
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Presentacion.ApiREST.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Middleware\ExceptionMiddleware.cs:line 24
2022-12-26 23:25:02.144 -05:00 [INF] Error: An error occurred while saving the entity changes. See the inner exception for details. - Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
2022-12-26 23:25:02.146 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 107 - 500 - application/json 1124.0460ms
2022-12-26 23:25:28.583 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 107
2022-12-26 23:25:28.583 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:25:28.583 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:25:28.592 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:25:28.598 -05:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:25:28.622 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ContextoBD'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-26 23:25:28.796 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:25:28.943 -05:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Data.Repositorios.UnitOfWork.Complete() in C:\Users\Home\source\repos\WebApi\Infraestructura.Data\Repositorios\UnitOfWork.cs:line 19
   at Presentacion.ApiREST.Rutas.RutaProductos.<AgregarRutasProductos>g__PostProductos|1_2(IUnitOfWork _unitOfWork, IValidator`1 _validator, In_ProductoDTO ProductoDTO) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Rutas\RutaProductos.cs:line 91
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Presentacion.ApiREST.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Middleware\ExceptionMiddleware.cs:line 24
2022-12-26 23:25:28.945 -05:00 [INF] Error: An error occurred while saving the entity changes. See the inner exception for details. - Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
2022-12-26 23:25:28.947 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 107 - 500 - application/json 364.3014ms
2022-12-26 23:25:37.813 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 107
2022-12-26 23:25:37.813 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:25:37.813 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:25:37.817 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:25:37.823 -05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:25:37.837 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ContextoBD'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-26 23:25:37.975 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:25:38.106 -05:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Data.Repositorios.UnitOfWork.Complete() in C:\Users\Home\source\repos\WebApi\Infraestructura.Data\Repositorios\UnitOfWork.cs:line 19
   at Presentacion.ApiREST.Rutas.RutaProductos.<AgregarRutasProductos>g__PostProductos|1_2(IUnitOfWork _unitOfWork, IValidator`1 _validator, In_ProductoDTO ProductoDTO) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Rutas\RutaProductos.cs:line 91
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Presentacion.ApiREST.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Middleware\ExceptionMiddleware.cs:line 24
2022-12-26 23:25:38.107 -05:00 [INF] Error: An error occurred while saving the entity changes. See the inner exception for details. - Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
2022-12-26 23:25:38.108 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 107 - 500 - application/json 295.0559ms
2022-12-26 23:26:12.098 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 107
2022-12-26 23:26:12.098 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:26:12.098 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:26:12.101 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:26:12.110 -05:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:26:12.128 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ContextoBD'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-26 23:26:12.249 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:26:12.335 -05:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Data.Repositorios.UnitOfWork.Complete() in C:\Users\Home\source\repos\WebApi\Infraestructura.Data\Repositorios\UnitOfWork.cs:line 19
   at Presentacion.ApiREST.Rutas.RutaProductos.<AgregarRutasProductos>g__PostProductos|1_2(IUnitOfWork _unitOfWork, IValidator`1 _validator, In_ProductoDTO ProductoDTO) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Rutas\RutaProductos.cs:line 91
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Presentacion.ApiREST.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Middleware\ExceptionMiddleware.cs:line 24
2022-12-26 23:26:12.336 -05:00 [INF] Error: An error occurred while saving the entity changes. See the inner exception for details. - Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
2022-12-26 23:26:12.337 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 107 - 500 - application/json 239.1739ms
2022-12-26 23:26:28.689 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 106
2022-12-26 23:26:28.690 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:26:28.690 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:26:28.692 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:26:28.700 -05:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:26:28.710 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ContextoBD'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-26 23:26:28.847 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:26:28.980 -05:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Data.Repositorios.UnitOfWork.Complete() in C:\Users\Home\source\repos\WebApi\Infraestructura.Data\Repositorios\UnitOfWork.cs:line 19
   at Presentacion.ApiREST.Rutas.RutaProductos.<AgregarRutasProductos>g__PostProductos|1_2(IUnitOfWork _unitOfWork, IValidator`1 _validator, In_ProductoDTO ProductoDTO) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Rutas\RutaProductos.cs:line 91
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Presentacion.ApiREST.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Middleware\ExceptionMiddleware.cs:line 24
2022-12-26 23:26:28.982 -05:00 [INF] Error: An error occurred while saving the entity changes. See the inner exception for details. - Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
2022-12-26 23:26:28.984 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 106 - 500 - application/json 294.0100ms
2022-12-26 23:27:00.823 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 106
2022-12-26 23:27:00.823 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:27:00.823 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:27:29.892 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:27:32.402 -05:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:27:32.412 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ContextoBD'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-26 23:27:32.702 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:27:46.599 -05:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Data.Repositorios.UnitOfWork.Complete() in C:\Users\Home\source\repos\WebApi\Infraestructura.Data\Repositorios\UnitOfWork.cs:line 19
   at Presentacion.ApiREST.Rutas.RutaProductos.<AgregarRutasProductos>g__PostProductos|1_2(IUnitOfWork _unitOfWork, IValidator`1 _validator, In_ProductoDTO ProductoDTO) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Rutas\RutaProductos.cs:line 91
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Presentacion.ApiREST.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Middleware\ExceptionMiddleware.cs:line 24
2022-12-26 23:27:46.601 -05:00 [INF] Error: An error occurred while saving the entity changes. See the inner exception for details. - Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
2022-12-26 23:27:46.602 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 106 - 500 - application/json 45778.5162ms
2022-12-26 23:28:02.731 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 106
2022-12-26 23:28:02.731 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:28:02.731 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:28:05.402 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:28:05.408 -05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:28:05.421 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ContextoBD'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-26 23:28:05.544 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:28:09.078 -05:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7cc71e01-d7c5-414e-97bc-574337533fac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Data.Repositorios.UnitOfWork.Complete() in C:\Users\Home\source\repos\WebApi\Infraestructura.Data\Repositorios\UnitOfWork.cs:line 19
   at Presentacion.ApiREST.Rutas.RutaProductos.<AgregarRutasProductos>g__PostProductos|1_2(IUnitOfWork _unitOfWork, IValidator`1 _validator, In_ProductoDTO ProductoDTO) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Rutas\RutaProductos.cs:line 91
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Presentacion.ApiREST.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Middleware\ExceptionMiddleware.cs:line 24
2022-12-26 23:28:09.080 -05:00 [INF] Error: An error occurred while saving the entity changes. See the inner exception for details. - Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
2022-12-26 23:28:09.081 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 106 - 500 - application/json 6350.4961ms
2022-12-26 23:29:22.846 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:29:23.435 -05:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:29:23.521 -05:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:29:23.530 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:29:23.532 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:29:23.589 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:29:23.626 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:29:23.899 -05:00 [INF] Now listening on: https://localhost:7038
2022-12-26 23:29:23.901 -05:00 [INF] Now listening on: http://localhost:5001
2022-12-26 23:29:23.911 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-26 23:29:23.913 -05:00 [INF] Hosting environment: Development
2022-12-26 23:29:23.915 -05:00 [INF] Content root path: C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\
2022-12-26 23:29:24.520 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/index.html - -
2022-12-26 23:29:24.858 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/index.html - - - 200 - text/html;charset=utf-8 342.4929ms
2022-12-26 23:29:24.992 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - -
2022-12-26 23:29:25.002 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - - - 200 12010 application/javascript;+charset=utf-8 10.5146ms
2022-12-26 23:29:25.141 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - -
2022-12-26 23:29:25.311 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 169.6280ms
2022-12-26 23:29:55.282 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 117
2022-12-26 23:29:55.285 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:29:55.300 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:30:00.127 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:30:00.470 -05:00 [ERR] Failed executing DbCommand (54ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:30:00.543 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ContextoBD'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:942408d8-db08-49cc-89cb-3f1b0d9ff858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:942408d8-db08-49cc-89cb-3f1b0d9ff858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-26 23:30:00.702 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:30:05.078 -05:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:942408d8-db08-49cc-89cb-3f1b0d9ff858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Data.Repositorios.RepositorioGenerico`1.Agregar(T entity) in C:\Users\Home\source\repos\WebApi\Infraestructura.Data\Repositorios\RepositorioGenerico.cs:line 53
   at Presentacion.ApiREST.Rutas.RutaProductos.<AgregarRutasProductos>g__PostProductos|1_2(IUnitOfWork _unitOfWork, IValidator`1 _validator, In_ProductoDTO ProductoDTO) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Rutas\RutaProductos.cs:line 86
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Presentacion.ApiREST.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Middleware\ExceptionMiddleware.cs:line 24
2022-12-26 23:30:05.080 -05:00 [INF] Error: An error occurred while saving the entity changes. See the inner exception for details. - Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
2022-12-26 23:30:05.093 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 117 - 500 - application/json 9811.0688ms
2022-12-26 23:30:16.074 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 116
2022-12-26 23:30:16.074 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:30:16.074 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:30:17.299 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:30:17.304 -05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:30:17.318 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ContextoBD'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:942408d8-db08-49cc-89cb-3f1b0d9ff858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:942408d8-db08-49cc-89cb-3f1b0d9ff858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-26 23:30:17.441 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:30:18.620 -05:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:942408d8-db08-49cc-89cb-3f1b0d9ff858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Data.Repositorios.RepositorioGenerico`1.Agregar(T entity) in C:\Users\Home\source\repos\WebApi\Infraestructura.Data\Repositorios\RepositorioGenerico.cs:line 53
   at Presentacion.ApiREST.Rutas.RutaProductos.<AgregarRutasProductos>g__PostProductos|1_2(IUnitOfWork _unitOfWork, IValidator`1 _validator, In_ProductoDTO ProductoDTO) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Rutas\RutaProductos.cs:line 86
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Presentacion.ApiREST.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Middleware\ExceptionMiddleware.cs:line 24
2022-12-26 23:30:18.621 -05:00 [INF] Error: An error occurred while saving the entity changes. See the inner exception for details. - Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
2022-12-26 23:30:18.622 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 116 - 500 - application/json 2548.5783ms
2022-12-26 23:32:02.274 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:32:02.869 -05:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:32:02.963 -05:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:32:02.979 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:32:02.991 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:32:03.044 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:32:03.083 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:32:03.356 -05:00 [INF] Now listening on: https://localhost:7038
2022-12-26 23:32:03.358 -05:00 [INF] Now listening on: http://localhost:5001
2022-12-26 23:32:03.368 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-26 23:32:03.371 -05:00 [INF] Hosting environment: Development
2022-12-26 23:32:03.372 -05:00 [INF] Content root path: C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\
2022-12-26 23:32:04.294 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/index.html - -
2022-12-26 23:32:04.532 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/index.html - - - 200 - text/html;charset=utf-8 241.3128ms
2022-12-26 23:32:04.605 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - -
2022-12-26 23:32:04.614 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - - - 200 12010 application/javascript;+charset=utf-8 8.8495ms
2022-12-26 23:32:04.818 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - -
2022-12-26 23:32:05.069 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 251.0347ms
2022-12-26 23:32:20.630 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 96
2022-12-26 23:32:20.634 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:32:20.646 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:32:24.340 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:32:24.728 -05:00 [ERR] Failed executing DbCommand (63ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:32:24.807 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ContextoBD'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:148f7b16-7959-4cfa-87c0-75463e0eb008
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:148f7b16-7959-4cfa-87c0-75463e0eb008
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-26 23:32:24.953 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:32:26.564 -05:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:148f7b16-7959-4cfa-87c0-75463e0eb008
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Data.Repositorios.RepositorioGenerico`1.Agregar(T entity) in C:\Users\Home\source\repos\WebApi\Infraestructura.Data\Repositorios\RepositorioGenerico.cs:line 53
   at Presentacion.ApiREST.Rutas.RutaProductos.<AgregarRutasProductos>g__PostProductos|1_2(IUnitOfWork _unitOfWork, IValidator`1 _validator, In_ProductoDTO ProductoDTO) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Rutas\RutaProductos.cs:line 86
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Presentacion.ApiREST.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Middleware\ExceptionMiddleware.cs:line 24
2022-12-26 23:32:26.566 -05:00 [INF] Error: An error occurred while saving the entity changes. See the inner exception for details. - Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
2022-12-26 23:32:26.589 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 96 - 500 - application/json 5959.1228ms
2022-12-26 23:32:41.402 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 96
2022-12-26 23:32:41.402 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:32:41.403 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:32:43.110 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:32:43.116 -05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:32:43.130 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ContextoBD'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:148f7b16-7959-4cfa-87c0-75463e0eb008
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:148f7b16-7959-4cfa-87c0-75463e0eb008
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-26 23:32:43.306 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:32:46.038 -05:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:148f7b16-7959-4cfa-87c0-75463e0eb008
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Data.Repositorios.RepositorioGenerico`1.Agregar(T entity) in C:\Users\Home\source\repos\WebApi\Infraestructura.Data\Repositorios\RepositorioGenerico.cs:line 53
   at Presentacion.ApiREST.Rutas.RutaProductos.<AgregarRutasProductos>g__PostProductos|1_2(IUnitOfWork _unitOfWork, IValidator`1 _validator, In_ProductoDTO ProductoDTO) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Rutas\RutaProductos.cs:line 86
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Presentacion.ApiREST.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Middleware\ExceptionMiddleware.cs:line 24
2022-12-26 23:32:46.040 -05:00 [INF] Error: An error occurred while saving the entity changes. See the inner exception for details. - Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
2022-12-26 23:32:46.041 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 96 - 500 - application/json 4639.4753ms
2022-12-26 23:34:00.479 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:34:01.062 -05:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:34:01.151 -05:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:34:01.160 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:34:01.162 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:34:01.208 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:34:01.246 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:34:01.514 -05:00 [INF] Now listening on: https://localhost:7038
2022-12-26 23:34:01.517 -05:00 [INF] Now listening on: http://localhost:5001
2022-12-26 23:34:01.526 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-26 23:34:01.529 -05:00 [INF] Hosting environment: Development
2022-12-26 23:34:01.530 -05:00 [INF] Content root path: C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\
2022-12-26 23:34:02.308 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/index.html - -
2022-12-26 23:34:02.557 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/index.html - - - 200 - text/html;charset=utf-8 253.7100ms
2022-12-26 23:34:02.666 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - -
2022-12-26 23:34:02.681 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - - - 200 12010 application/javascript;+charset=utf-8 12.5037ms
2022-12-26 23:34:02.847 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - -
2022-12-26 23:34:03.107 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 260.7102ms
2022-12-26 23:34:08.531 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 96
2022-12-26 23:34:08.541 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:34:08.559 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:34:08.666 -05:00 [INF] Writing value of type 'Microsoft.AspNetCore.Http.Result.ObjectResult' with status code '400'.
2022-12-26 23:34:08.671 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:34:08.674 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 96 - 400 - application/json;+charset=utf-8 143.0389ms
2022-12-26 23:34:17.034 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 96
2022-12-26 23:34:17.036 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:34:17.036 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:34:20.711 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:34:21.052 -05:00 [ERR] Failed executing DbCommand (52ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:34:21.130 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ContextoBD'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:90f58317-59fa-4832-a9b5-309054a777ab
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:90f58317-59fa-4832-a9b5-309054a777ab
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-26 23:34:21.282 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:34:22.930 -05:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:90f58317-59fa-4832-a9b5-309054a777ab
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Data.Repositorios.RepositorioGenerico`1.Agregar(T entity) in C:\Users\Home\source\repos\WebApi\Infraestructura.Data\Repositorios\RepositorioGenerico.cs:line 53
   at Presentacion.ApiREST.Rutas.RutaProductos.<AgregarRutasProductos>g__PostProductos|1_2(IUnitOfWork _unitOfWork, IValidator`1 _validator, In_ProductoDTO ProductoDTO) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Rutas\RutaProductos.cs:line 86
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Presentacion.ApiREST.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\Middleware\ExceptionMiddleware.cs:line 24
2022-12-26 23:34:22.932 -05:00 [INF] Error: An error occurred while saving the entity changes. See the inner exception for details. - Instrucción INSERT en conflicto con la restricción FOREIGN KEY 'FK_Producto_Categoria_CategoriaIdCategoriaPk'. El conflicto ha aparecido en la base de datos 'ApiTest', tabla 'dbo.Categoria', column 'IdCategoriaPk'.
Se terminó la instrucción.
2022-12-26 23:34:22.940 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 96 - 500 - application/json 5906.5067ms
2022-12-26 23:35:19.588 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:35:20.446 -05:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:35:20.560 -05:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:35:20.581 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:35:20.590 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:35:20.682 -05:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:35:20.743 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:35:21.105 -05:00 [INF] Now listening on: https://localhost:7038
2022-12-26 23:35:21.107 -05:00 [INF] Now listening on: http://localhost:5001
2022-12-26 23:35:21.118 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-26 23:35:21.121 -05:00 [INF] Hosting environment: Development
2022-12-26 23:35:21.123 -05:00 [INF] Content root path: C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\
2022-12-26 23:35:22.680 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/index.html - -
2022-12-26 23:35:23.183 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/index.html - - - 200 - text/html;charset=utf-8 513.8776ms
2022-12-26 23:35:23.342 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - -
2022-12-26 23:35:23.373 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - - - 200 12010 application/javascript;+charset=utf-8 30.6975ms
2022-12-26 23:35:23.632 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - -
2022-12-26 23:35:23.871 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 238.7792ms
2022-12-26 23:37:51.089 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:37:51.661 -05:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:37:51.751 -05:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:37:51.773 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:37:51.780 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:37:51.823 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:37:51.859 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:37:52.134 -05:00 [INF] Now listening on: https://localhost:7038
2022-12-26 23:37:52.136 -05:00 [INF] Now listening on: http://localhost:5001
2022-12-26 23:37:52.147 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-26 23:37:52.149 -05:00 [INF] Hosting environment: Development
2022-12-26 23:37:52.150 -05:00 [INF] Content root path: C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\
2022-12-26 23:37:53.203 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/index.html - -
2022-12-26 23:37:53.724 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/index.html - - - 200 - text/html;charset=utf-8 529.2365ms
2022-12-26 23:37:53.824 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - -
2022-12-26 23:37:53.863 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - - - 200 12010 application/javascript;+charset=utf-8 38.3034ms
2022-12-26 23:37:53.881 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_vs/browserLink - -
2022-12-26 23:37:53.967 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 85.8140ms
2022-12-26 23:37:54.185 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - -
2022-12-26 23:37:54.338 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.5139ms
2022-12-26 23:38:03.666 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 96
2022-12-26 23:38:03.673 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:38:03.692 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:38:03.837 -05:00 [INF] Writing value of type 'Microsoft.AspNetCore.Http.Result.ObjectResult' with status code '400'.
2022-12-26 23:38:03.869 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:38:03.879 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 96 - 400 - application/json;+charset=utf-8 213.5409ms
2022-12-26 23:38:09.206 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7038/productos application/json 96
2022-12-26 23:38:09.206 -05:00 [INF] CORS policy execution successful.
2022-12-26 23:38:09.206 -05:00 [INF] Executing endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:38:09.214 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:38:10.445 -05:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[IdCategoriaPk], [c].[Descripcion], [c].[Estado], [c].[Nombre]
FROM [Categoria] AS [c]
WHERE [c].[IdCategoriaPk] = @__p_0
2022-12-26 23:38:10.723 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Producto] ([CategoriaIdCategoriaPk], [Descripcion], [Estado], [FechaRegistro], [IdCategoriaFk], [ImagenUrl], [Nombre])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [IdProductoPk]
FROM [Producto]
WHERE @@ROWCOUNT = 1 AND [IdProductoPk] = scope_identity();
2022-12-26 23:38:14.996 -05:00 [INF] Writing value of type 'Dominio.Principal.Entidades.Producto' with status code '200'.
2022-12-26 23:38:15.008 -05:00 [INF] Executed endpoint 'HTTP: POST /productos => PostProductos'
2022-12-26 23:38:15.009 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7038/productos application/json 96 - 200 - application/json;+charset=utf-8 5802.7542ms
2022-12-26 23:40:30.815 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:40:31.410 -05:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:40:31.499 -05:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:40:31.508 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:40:31.510 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:40:31.562 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:40:31.601 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:43:36.883 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:43:37.513 -05:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:43:37.675 -05:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:43:37.695 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:43:37.700 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:43:37.748 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:43:37.786 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:45:22.745 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:45:23.322 -05:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:45:23.408 -05:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:45:23.425 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:45:23.441 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:45:23.490 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:45:23.527 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:47:12.026 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:47:12.611 -05:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:47:12.700 -05:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:47:12.714 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:47:12.730 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:47:12.774 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:47:12.809 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:48:52.332 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:48:52.934 -05:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:48:53.032 -05:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:48:53.041 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:48:53.043 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:48:53.099 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:48:53.135 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:48:53.412 -05:00 [INF] Now listening on: https://localhost:7038
2022-12-26 23:48:53.414 -05:00 [INF] Now listening on: http://localhost:5001
2022-12-26 23:48:53.423 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-26 23:48:53.426 -05:00 [INF] Hosting environment: Development
2022-12-26 23:48:53.428 -05:00 [INF] Content root path: C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\
2022-12-26 23:48:54.216 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/index.html - -
2022-12-26 23:48:54.664 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/index.html - - - 200 - text/html;charset=utf-8 456.0808ms
2022-12-26 23:48:54.754 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - -
2022-12-26 23:48:54.780 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - - - 200 12010 application/javascript;+charset=utf-8 25.5450ms
2022-12-26 23:48:54.842 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_vs/browserLink - -
2022-12-26 23:48:54.936 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 104.8041ms
2022-12-26 23:48:55.106 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - -
2022-12-26 23:48:55.269 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 163.0443ms
2022-12-26 23:49:06.393 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/search - -
2022-12-26 23:49:06.411 -05:00 [INF] Executing endpoint 'HTTP: GET /search'
2022-12-26 23:49:06.445 -05:00 [INF] Executed endpoint 'HTTP: GET /search'
2022-12-26 23:49:06.446 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/search - - - 200 - text/plain;+charset=utf-8 52.1868ms
2022-12-26 23:50:52.876 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:50:53.459 -05:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:50:53.545 -05:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:50:53.564 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:50:53.567 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:50:53.615 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:50:53.655 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:50:53.930 -05:00 [INF] Now listening on: https://localhost:7038
2022-12-26 23:50:53.933 -05:00 [INF] Now listening on: http://localhost:5001
2022-12-26 23:50:53.944 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-26 23:50:53.946 -05:00 [INF] Hosting environment: Development
2022-12-26 23:50:53.948 -05:00 [INF] Content root path: C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\
2022-12-26 23:50:54.859 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/index.html - -
2022-12-26 23:50:55.288 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/index.html - - - 200 - text/html;charset=utf-8 432.7789ms
2022-12-26 23:50:55.409 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - -
2022-12-26 23:50:55.430 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - - - 200 12010 application/javascript;+charset=utf-8 20.7149ms
2022-12-26 23:50:55.462 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_vs/browserLink - -
2022-12-26 23:50:55.564 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 102.0767ms
2022-12-26 23:50:55.713 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - -
2022-12-26 23:50:55.868 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.3527ms
2022-12-26 23:52:50.278 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:52:50.907 -05:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:52:50.999 -05:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:52:51.023 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:52:51.029 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:52:51.074 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:52:51.111 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:52:51.384 -05:00 [INF] Now listening on: https://localhost:7038
2022-12-26 23:52:51.386 -05:00 [INF] Now listening on: http://localhost:5001
2022-12-26 23:52:51.396 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-26 23:52:51.398 -05:00 [INF] Hosting environment: Development
2022-12-26 23:52:51.400 -05:00 [INF] Content root path: C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\
2022-12-26 23:52:52.261 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/index.html - -
2022-12-26 23:52:52.727 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/index.html - - - 200 - text/html;charset=utf-8 471.3877ms
2022-12-26 23:52:52.817 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - -
2022-12-26 23:52:52.828 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - - - 200 12010 application/javascript;+charset=utf-8 11.6452ms
2022-12-26 23:52:52.976 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_vs/browserLink - -
2022-12-26 23:52:53.184 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 208.7285ms
2022-12-26 23:52:53.406 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - -
2022-12-26 23:52:53.618 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 212.6185ms
2022-12-26 23:53:02.863 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/productos_Busqueda - -
2022-12-26 23:53:02.879 -05:00 [INF] Executing endpoint 'HTTP: GET /productos_Busqueda => BusquedaProductos'
2022-12-26 23:53:23.411 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:53:23.837 -05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-26 23:53:23.840 -05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-26 23:53:24.065 -05:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[IdProductoPk], [p].[CategoriaIdCategoriaPk], [p].[Descripcion], [p].[Estado], [p].[FechaRegistro], [p].[IdCategoriaFk], [p].[ImagenUrl], [p].[Nombre]
FROM [Producto] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-26 23:53:24.155 -05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-26 23:53:24.156 -05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-26 23:53:24.198 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[IdProductoPk], [p].[CategoriaIdCategoriaPk], [p].[Descripcion], [p].[Estado], [p].[FechaRegistro], [p].[IdCategoriaFk], [p].[ImagenUrl], [p].[Nombre]
    FROM [Producto] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2022-12-26 23:53:24.212 -05:00 [INF] Writing value of type 'Aplicacion.Core.Adaptadores.Paginacion`1[[Dominio.Principal.Entidades.Producto, Dominio.Principal, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]' with status code '200'.
2022-12-26 23:53:24.228 -05:00 [INF] Executed endpoint 'HTTP: GET /productos_Busqueda => BusquedaProductos'
2022-12-26 23:53:24.232 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/productos_Busqueda - - - 200 - application/json;+charset=utf-8 21368.8895ms
2022-12-26 23:54:16.444 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/productos_Busqueda?nombre=string - -
2022-12-26 23:54:16.459 -05:00 [INF] Executing endpoint 'HTTP: GET /productos_Busqueda => BusquedaProductos'
2022-12-26 23:54:29.214 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:54:29.246 -05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-26 23:54:29.248 -05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-26 23:54:29.280 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__parametros_Nombre_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[IdProductoPk], [p].[CategoriaIdCategoriaPk], [p].[Descripcion], [p].[Estado], [p].[FechaRegistro], [p].[IdCategoriaFk], [p].[ImagenUrl], [p].[Nombre]
FROM [Producto] AS [p]
WHERE [p].[Nombre] = @__parametros_Nombre_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2022-12-26 23:54:29.284 -05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-26 23:54:29.286 -05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-26 23:54:29.292 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parametros_Nombre_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[IdProductoPk], [p].[CategoriaIdCategoriaPk], [p].[Descripcion], [p].[Estado], [p].[FechaRegistro], [p].[IdCategoriaFk], [p].[ImagenUrl], [p].[Nombre]
    FROM [Producto] AS [p]
    WHERE [p].[Nombre] = @__parametros_Nombre_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
2022-12-26 23:54:29.292 -05:00 [INF] Writing value of type 'Aplicacion.Core.Adaptadores.Paginacion`1[[Dominio.Principal.Entidades.Producto, Dominio.Principal, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]' with status code '200'.
2022-12-26 23:54:29.293 -05:00 [INF] Executed endpoint 'HTTP: GET /productos_Busqueda => BusquedaProductos'
2022-12-26 23:54:29.293 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/productos_Busqueda?nombre=string - - - 200 - application/json;+charset=utf-8 12849.9210ms
2022-12-26 23:54:29.379 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/favicon.ico - -
2022-12-26 23:54:29.382 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/favicon.ico - - - 404 0 - 2.9748ms
2022-12-26 23:54:52.968 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/productos_Busqueda?nombre=test - -
2022-12-26 23:54:52.977 -05:00 [INF] Executing endpoint 'HTTP: GET /productos_Busqueda => BusquedaProductos'
2022-12-26 23:54:55.042 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:54:55.053 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__parametros_Nombre_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[IdProductoPk], [p].[CategoriaIdCategoriaPk], [p].[Descripcion], [p].[Estado], [p].[FechaRegistro], [p].[IdCategoriaFk], [p].[ImagenUrl], [p].[Nombre]
FROM [Producto] AS [p]
WHERE [p].[Nombre] = @__parametros_Nombre_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2022-12-26 23:54:55.058 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parametros_Nombre_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[IdProductoPk], [p].[CategoriaIdCategoriaPk], [p].[Descripcion], [p].[Estado], [p].[FechaRegistro], [p].[IdCategoriaFk], [p].[ImagenUrl], [p].[Nombre]
    FROM [Producto] AS [p]
    WHERE [p].[Nombre] = @__parametros_Nombre_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
2022-12-26 23:54:55.064 -05:00 [INF] Executing result with status code '404'.
2022-12-26 23:54:55.064 -05:00 [INF] Executed endpoint 'HTTP: GET /productos_Busqueda => BusquedaProductos'
2022-12-26 23:54:55.064 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/productos_Busqueda?nombre=test - - - 404 0 - 2096.1334ms
2022-12-26 23:58:44.367 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:58:44.964 -05:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:58:45.062 -05:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:58:45.071 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-26 23:58:45.074 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-26 23:58:45.135 -05:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-26 23:58:45.172 -05:00 [INF] No migrations were applied. The database is already up to date.
2022-12-26 23:58:45.450 -05:00 [INF] Now listening on: https://localhost:7038
2022-12-26 23:58:45.452 -05:00 [INF] Now listening on: http://localhost:5001
2022-12-26 23:58:45.462 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-26 23:58:45.464 -05:00 [INF] Hosting environment: Development
2022-12-26 23:58:45.466 -05:00 [INF] Content root path: C:\Users\Home\source\repos\WebApi\Presentacion.ApiREST\
2022-12-26 23:58:46.332 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/index.html - -
2022-12-26 23:58:46.834 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/index.html - - - 200 - text/html;charset=utf-8 509.9949ms
2022-12-26 23:58:46.944 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - -
2022-12-26 23:58:46.958 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_framework/aspnetcore-browser-refresh.js - - - 200 12010 application/javascript;+charset=utf-8 14.0524ms
2022-12-26 23:58:46.982 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/_vs/browserLink - -
2022-12-26 23:58:47.030 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.3887ms
2022-12-26 23:58:47.218 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - -
2022-12-26 23:58:47.472 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 254.1633ms
2022-12-26 23:58:58.728 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7038/productos_Busqueda - -
2022-12-26 23:58:58.746 -05:00 [INF] Executing endpoint 'HTTP: GET /productos_Busqueda => BusquedaProductos'
2022-12-26 23:58:58.784 -05:00 [INF] Entity Framework Core 6.0.12 initialized 'ContextoBD' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.12' with options: None
2022-12-26 23:58:59.267 -05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-26 23:58:59.271 -05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-26 23:58:59.696 -05:00 [INF] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[IdProductoPk], [t].[CategoriaIdCategoriaPk], [t].[Descripcion], [t].[Estado], [t].[FechaRegistro], [t].[IdCategoriaFk], [t].[ImagenUrl], [t].[Nombre], [c].[IdCategoriaPk], [c].[Descripcion], [c].[Estado], [c].[Nombre]
FROM (
    SELECT [p].[IdProductoPk], [p].[CategoriaIdCategoriaPk], [p].[Descripcion], [p].[Estado], [p].[FechaRegistro], [p].[IdCategoriaFk], [p].[ImagenUrl], [p].[Nombre]
    FROM [Producto] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categoria] AS [c] ON [t].[CategoriaIdCategoriaPk] = [c].[IdCategoriaPk]
2022-12-26 23:58:59.908 -05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-26 23:58:59.910 -05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-26 23:58:59.942 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[IdProductoPk], [p].[CategoriaIdCategoriaPk], [p].[Descripcion], [p].[Estado], [p].[FechaRegistro], [p].[IdCategoriaFk], [p].[ImagenUrl], [p].[Nombre]
    FROM [Producto] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2022-12-26 23:58:59.956 -05:00 [INF] Writing value of type 'Aplicacion.Core.Adaptadores.Paginacion`1[[Dominio.Principal.Entidades.Producto, Dominio.Principal, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]' with status code '200'.
2022-12-26 23:58:59.975 -05:00 [INF] Executed endpoint 'HTTP: GET /productos_Busqueda => BusquedaProductos'
2022-12-26 23:58:59.981 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7038/productos_Busqueda - - - 200 - application/json;+charset=utf-8 1252.9072ms
